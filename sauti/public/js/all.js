"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_axios=_interopRequireDefault(require("axios")),_Chart=_interopRequireDefault(require("../Components/Chart/Chart"));require("../sass/App.scss");var _reactDropdown=_interopRequireDefault(require("react-dropdown"));require("react-dropdown/style.css");var _reactRouterDom=require("react-router-dom");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var App=function(){function e(){var t;return _classCallCheck(this,e),_defineProperty(_assertThisInitialized(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),"onSelect",function(e){"Gender"===e.label?(t.props.history.push("/gender-chart"),t.setState(_objectSpread({},t.state,{defaultOption:"Gender"}))):"Border Crossing Frequency"===e.label?(t.props.history.push("/crossing-frequency-chart"),t.setState(_objectSpread({},t.state,{defaultOption:"Border Crossing Frequency"}))):"Education Level"===e.label?(t.props.history.push("/education-chart"),t.setState(_objectSpread({},t.state,{defaultOption:"Education Level"}))):"Age"===e.label?(t.props.history.push("/age-chart"),t.setState(_objectSpread({},t.state,{defaultOption:"Age"}))):"Country of Residence"===e.label?(t.props.history.push("/country-chart"),t.setState(_objectSpread({},t.state,{defaultOption:"Country of Residence"}))):"Language"===e.label?(t.props.history.push("/language-chart"),t.setState(_objectSpread({},t.state,{defaultOption:"Language"}))):"Primary Income"===e.label?(t.props.history.push("/primaryincome-chart"),t.setState(_objectSpread({},t.state,{defaultOption:"Primary Income"}))):"Produce"===e.label&&(t.props.history.push("/produce-chart"),t.setState(_objectSpread({},t.state,{defaultOption:"Produce"})))}),t.state={sessions:[],sessions_production:[],realData:[],defaultOption:"Select a Chart"},t}return _inherits(e,_react["default"].Component),_createClass(e,[{key:"componentDidMount",value:function(){var t=this;this.getDropDownDefault(),_axios.default.get("".concat(process.env.REACT_APP_BACKEND_URL,"/sessions/all")).then(function(e){console.log(e),t.setState({sessions:e.data[0]})})}},{key:"getDropDownDefault",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.props.history.location.pathname;"/gender-chart"===t||"/"===t?this.setState(_objectSpread({},this.state,{defaultOption:"Gender"})):"/crossing-frequency-chart"===t?this.setState(_objectSpread({},this.state,{defaultOption:"Border Crossing Frequency"})):"/education-chart"===t?this.setState(_objectSpread({},this.state,{defaultOption:"Education Level"})):"/age-chart"===t?this.setState(_objectSpread({},this.state,{defaultOption:"Age"})):"/country-chart"===t?this.setState(_objectSpread({},this.state,{defaultOption:"Country of Residence"})):"/language-chart"===t?this.setState(_objectSpread({},this.state,{defaultOption:"Language"})):"/primaryincome-chart"===t?this.setState(_objectSpread({},this.state,{defaultOption:"Primary Income"})):"/produce-chart"===t&&this.setState(_objectSpread({},this.state,{defaultOption:"Produce"}))}},{key:"render",value:function(){console.log(this.props);return _react.default.createElement("div",{className:"App"},_react.default.createElement("div",{className:"TopBar"},_react.default.createElement("div",{className:"Sauti-Logo"},_react.default.createElement("a",{href:"http://sautiafrica.org/"},_react.default.createElement("p",null,"Sauti",_react.default.createElement("span",null,".")))),_react.default.createElement("div",{className:"Navigation"},_react.default.createElement("a",{href:"http://sautiafrica.org/"},"HOME"),_react.default.createElement("a",{href:"http://sautiafrica.org/our-approach/"},"ABOUT US"),_react.default.createElement("a",{href:"http://sautiafrica.org/information-platform/"},"SERVICES"),_react.default.createElement("a",{href:"http://sautiafrica.org/our-team/"},"OUR TEAM"),_react.default.createElement("a",{href:"http://sautiafrica.org/news/"},"NEWS & UPDATES"),_react.default.createElement("a",{href:"http://sautiafrica.org/contact/"},"CONTACT US"))),_react.default.createElement("div",{className:"main-container"},_react.default.createElement("div",{className:"header"},_react.default.createElement("h1",null,"Informal Cross-Border Trade Data")),_react.default.createElement("div",{className:"content-container"},_react.default.createElement("div",{className:"chart-container"},_react.default.createElement(_Chart.default,{getDropDownDefault:this.getDropDownDefault.bind(this)})),_react.default.createElement("div",{className:"dropdown-container"},_react.default.createElement("p",null,"Key Trader Demographics"),_react.default.createElement(_reactDropdown.default,{controlClassName:"myControlClassName",arrowClassName:"myArrowClassName",className:"dropdown",options:["Gender","Education Level","Border Crossing Frequency","Age","Country of Residence","Primary Income","Language","Produce"],onChange:this.onSelect,value:this.state.defaultOption,placeholder:"Select an option"})))))}}]),e}(),_default=(0,_reactRouterDom.withRouter)(App);exports.default=_default;